(this["webpackJsonptest-for-daocode"]=this["webpackJsonptest-for-daocode"]||[]).push([[0],{11:function(e,t,c){},12:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(5),r=c.n(n),o=c(2);function s(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}var i=function(e,t,c,a){var n=s(e),r=s(t);return"rgb("+(n.r+(r.r-n.r)*(c-a)/20)+","+(n.g+(r.g-n.g)*(c-a)/20)+","+(n.b+(r.b-n.b)*(c-a)/20)+")"},m="5595ed04020806764d837300571a7295",u=c(3),p=c.n(u),l=c(0);function f(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(o.a)(c,2),r=n[0],s=n[1];return Object(l.jsx)("header",{className:p.a.Searchbar,children:Object(l.jsxs)("form",{className:p.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?t(r):alert("Enter your request")},children:[Object(l.jsx)("button",{type:"submit",className:p.a.SearchFormButton,children:Object(l.jsx)("span",{className:p.a.SearchFormButtonLabel,children:"Search"})}),Object(l.jsx)("input",{className:p.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Enter the name of the city",value:r,onChange:function(e){s(e.currentTarget.value.toLowerCase())}})]})})}function h(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),s=Object(o.a)(r,2),u=s[0],p=s[1],h=Object(a.useState)(""),j=Object(o.a)(h,2),b=j[0],d=j[1],O=Object(a.useState)({}),x=Object(o.a)(O,2),g=x[0],S=x[1],v=Object(a.useState)(null),N=Object(o.a)(v,2),_=N[0],w=N[1];Object(a.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){n(e.coords.latitude),p(e.coords.longitude)}))}),[]),Object(a.useEffect)((function(){""!==c&&""!==u&&y()}),[c,u]),Object(a.useEffect)((function(){""!==b&&E()}),[b]);var F,y=function(){(function(e){var t=e.latt,c=e.long;return fetch("http://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(c,"&units=metric&appid=").concat(m)).then((function(e){return e.ok?e.json():Promise.reject(new Error("No results were found for ".concat(t,", ").concat(c)))}))})({latt:c,long:u}).then((function(e){S({icon:e.weather[0].icon,description:e.weather[0].description,temp:e.main.temp})})).catch((function(e){w(e)}))},E=function(){var e;(e=b,fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&units=metric&appid=").concat(m)).then((function(t){return t.ok?t.json():Promise.reject(new Error("No results were found for ".concat(e)))}))).then((function(e){S({icon:e.weather[0].icon,description:e.weather[0].description,temp:e.main.temp,temp_min:e.main.temp_min,temp_max:e.main.temp_max,name:e.name,country:e.sys.country,coord:e.coord})})).catch((function(e){w(e)}))};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f,{onSubmit:function(e){d(e)}}),_&&Object(l.jsx)("div",{className:"container",children:Object(l.jsx)("h4",{children:_.message})}),c&&u&&!_&&!b&&Object(l.jsxs)("div",{className:"container",style:{backgroundColor:(F=g.temp,F<=-10?"#00ffff":F>-10&&F<10?i("#00ffff","#fff700",F,-10):10===F?"#fff700":F>10&&F<30?i("#fff700","#ff8c00",F,10):F>=30?"#ff8c00":"#ffffff")},children:[g.icon&&Object(l.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(g.icon,"@2x.png"),alt:g.description,className:"icon"}),g.temp&&Object(l.jsx)("div",{className:"slidecontainer",children:Object(l.jsxs)("label",{className:"label",children:["Temperature: ",g.temp," \xb0\u0421",Object(l.jsx)("input",{className:"slider",type:"range",min:"-50",max:"50",value:g.temp,onChange:function(e){S({temp:e.target.value})},step:"1"})]})})]}),b&&g.coord&&Object(l.jsxs)("div",{className:"resultContainer",children:[Object(l.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(g.icon,"@2x.png"),alt:g.description}),Object(l.jsxs)("div",{className:"wrapper",children:[Object(l.jsxs)("p",{className:"accent",children:[g.name,", ",g.country,Object(l.jsx)("span",{className:"description",children:g.description})]}),Object(l.jsxs)("p",{className:"tempData",children:[Object(l.jsxs)("span",{className:"temp",children:[g.temp," \xb0\u0421"]})," temperature from",g.temp_min," to ",g.temp_max," \xb0\u0421"]}),Object(l.jsxs)("p",{children:["Geo coords"," ",Object(l.jsxs)("span",{className:"accent",children:["[",g.coord.lat,", ",g.coord.lon,"]"]})]})]})]})]})}c(11);r.a.render(Object(l.jsx)(h,{}),document.getElementById("root"))},3:function(e,t,c){e.exports={Searchbar:"Searchbar_Searchbar__3y25L",SearchForm:"Searchbar_SearchForm__lDveI",SearchFormButton:"Searchbar_SearchFormButton__2Fh57",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__1uJGp",SearchFormInput:"Searchbar_SearchFormInput__2NHD9"}}},[[12,1,2]]]);
//# sourceMappingURL=main.3937aa9b.chunk.js.map